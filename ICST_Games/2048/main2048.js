var _0x3fea=['font-size','changedTouches','changeScore(score)','padding','pageY','.number-cell','append','touchmove','.grid-cell','block','0px','open','display','GET','pageX','.dialog-fail','height','#grid-container','random','updateBoardView()','generateOneNumber()','stringify','border-radius','text','send','css','width','preventDefault','floor','isGameover()','left','https://game.goaskme.app/game.php','touchend','background-color','touches','isWin()','html','Game\x20Over!<br>Your\x20Score:\x20','touchstart','.dialog-success','#showScore','none','location','line-height','color','remove','#number-cell-','addEventListener','<div\x20class\x20=\x20\x22number-cell\x22\x20id\x20=\x20\x22number-cell-','replace','#grid-cell-','abs','\x22></div>','top'];(function(_0x1190b2,_0x3fea51){var _0x5e8e91=function(_0x5187db){while(--_0x5187db){_0x1190b2['push'](_0x1190b2['shift']());}};_0x5e8e91(++_0x3fea51);}(_0x3fea,0xad));var _0x5e8e=function(_0x1190b2,_0x3fea51){_0x1190b2=_0x1190b2-0x0;var _0x5e8e91=_0x3fea[_0x1190b2];return _0x5e8e91;};var board=new Array();var score=0x0;var hasConflicted=new Array();var winOnce=![];$(document)['ready'](function(){prepareForMobile();newgame();hideDialog();});function hideDialog(){$(_0x5e8e('0x1c'))['css']('display',_0x5e8e('0x1e'));$(_0x5e8e('0x4'))[_0x5e8e('0xe')](_0x5e8e('0x1'),_0x5e8e('0x1e'));}function prepareForMobile(){if(isPC()){gridContainerWidth=0x1f4;cellSpace=0x14;cellSideLength=0x64;}$(_0x5e8e('0x6'))[_0x5e8e('0xe')](_0x5e8e('0xf'),gridContainerWidth-0x2*cellSpace);$(_0x5e8e('0x6'))[_0x5e8e('0xe')]('height',gridContainerWidth-0x2*cellSpace);$('#grid-container')[_0x5e8e('0xe')](_0x5e8e('0x2e'),cellSpace);$('#grid-container')[_0x5e8e('0xe')](_0x5e8e('0xb'),0.02*gridContainerWidth);if(documentHeight*0x3/documentWidth>0x5){$('header')[_0x5e8e('0xe')]('margin-top',cellSideLength);}$(_0x5e8e('0x33'))[_0x5e8e('0xe')](_0x5e8e('0xf'),cellSideLength);$('.grid-cell')['css'](_0x5e8e('0x5'),cellSideLength);$(_0x5e8e('0x33'))[_0x5e8e('0xe')]('border-radius',0.02*cellSideLength);}function newgame(){init();generateOneNumber();generateOneNumber();resetSocre();}function again(){var _0x5c6399=JSON[_0x5e8e('0xa')]({'sc':score,'id':0x2});var _0x38853c=new XMLHttpRequest();_0x38853c[_0x5e8e('0x0')](_0x5e8e('0x2'),'https://game.goaskme.app/end_game.php?x='+_0x5c6399,!![]);_0x38853c[_0x5e8e('0xd')]();window[_0x5e8e('0x1f')][_0x5e8e('0x26')](_0x5e8e('0x14'));}function conti(){hideDialog();}function init(){for(var _0x1e97b3=0x0;_0x1e97b3<0x4;_0x1e97b3++){for(var _0x9ac9db=0x0;_0x9ac9db<0x4;_0x9ac9db++){var _0x19e7e9=$(_0x5e8e('0x27')+_0x1e97b3+'-'+_0x9ac9db);_0x19e7e9['css'](_0x5e8e('0x2a'),getPosTop(_0x1e97b3,_0x9ac9db));_0x19e7e9[_0x5e8e('0xe')](_0x5e8e('0x13'),getPosLeft(_0x1e97b3,_0x9ac9db));}}for(var _0x1e97b3=0x0;_0x1e97b3<0x4;_0x1e97b3++){board[_0x1e97b3]=new Array();hasConflicted[_0x1e97b3]=new Array();for(var _0x9ac9db=0x0;_0x9ac9db<0x4;_0x9ac9db++){board[_0x1e97b3][_0x9ac9db]=0x0;hasConflicted[_0x1e97b3][_0x9ac9db]=![];}}winOnce=![];score=0x0;updateBoardView();}function updateBoardView(){$(_0x5e8e('0x30'))[_0x5e8e('0x22')]();for(var _0x3cff0f=0x0;_0x3cff0f<0x4;_0x3cff0f++){for(var _0x23b489=0x0;_0x23b489<0x4;_0x23b489++){$(_0x5e8e('0x6'))[_0x5e8e('0x31')](_0x5e8e('0x25')+_0x3cff0f+'-'+_0x23b489+_0x5e8e('0x29'));var _0x2b8c12=$(_0x5e8e('0x23')+_0x3cff0f+'-'+_0x23b489);if(board[_0x3cff0f][_0x23b489]==0x0){_0x2b8c12[_0x5e8e('0xe')](_0x5e8e('0xf'),_0x5e8e('0x35'));_0x2b8c12[_0x5e8e('0xe')](_0x5e8e('0x5'),_0x5e8e('0x35'));_0x2b8c12[_0x5e8e('0xe')](_0x5e8e('0x2a'),getPosTop(_0x3cff0f,_0x23b489)+cellSideLength/0x2);_0x2b8c12['css']('left',getPosLeft(_0x3cff0f,_0x23b489)+cellSideLength/0x2);}else{_0x2b8c12['css'](_0x5e8e('0xf'),cellSideLength+'px');_0x2b8c12[_0x5e8e('0xe')](_0x5e8e('0x5'),cellSideLength+'px');_0x2b8c12[_0x5e8e('0xe')](_0x5e8e('0x2a'),getPosTop(_0x3cff0f,_0x23b489));_0x2b8c12['css'](_0x5e8e('0x13'),getPosLeft(_0x3cff0f,_0x23b489));_0x2b8c12[_0x5e8e('0xe')](_0x5e8e('0x16'),getNumberCellBgColor(board[_0x3cff0f][_0x23b489]));_0x2b8c12[_0x5e8e('0xe')](_0x5e8e('0x21'),getNumberCellFontColor(board[_0x3cff0f][_0x23b489]));_0x2b8c12[_0x5e8e('0xe')](_0x5e8e('0x2b'),getNumberCellFontSize(board[_0x3cff0f][_0x23b489]));_0x2b8c12[_0x5e8e('0xc')](board[_0x3cff0f][_0x23b489]);}hasConflicted[_0x3cff0f][_0x23b489]=![];}}$(_0x5e8e('0x30'))[_0x5e8e('0xe')](_0x5e8e('0x20'),cellSideLength+'px');}function generateOneNumber(){if(nospace(board)){return![];}var _0x5c7071=parseInt(Math[_0x5e8e('0x11')](Math[_0x5e8e('0x7')]()*0x4));var _0x98d15b=parseInt(Math['floor'](Math[_0x5e8e('0x7')]()*0x4));while(!![]){if(board[_0x5c7071][_0x98d15b]==0x0){break;}var _0x5c7071=parseInt(Math[_0x5e8e('0x11')](Math[_0x5e8e('0x7')]()*0x4));var _0x98d15b=parseInt(Math[_0x5e8e('0x11')](Math[_0x5e8e('0x7')]()*0x4));}var _0x14a2b9=Math[_0x5e8e('0x7')]()<0.5?0x2:0x4;board[_0x5c7071][_0x98d15b]=_0x14a2b9;showNumberWithAnimation(_0x5c7071,_0x98d15b,_0x14a2b9);return!![];}$(document)['keydown'](function(_0x21aa04){switch(_0x21aa04['keyCode']){case 0x25:_0x21aa04[_0x5e8e('0x10')]();if(moveLeft()){setTimeout(_0x5e8e('0x9'),0xd2);setTimeout(_0x5e8e('0x12'),0x12c);setTimeout(_0x5e8e('0x18'),0x12c);}break;case 0x26:_0x21aa04[_0x5e8e('0x10')]();if(moveUp()){setTimeout(_0x5e8e('0x9'),0xd2);setTimeout(_0x5e8e('0x12'),0x12c);setTimeout(_0x5e8e('0x18'),0x12c);}break;case 0x27:_0x21aa04[_0x5e8e('0x10')]();if(moveRight()){setTimeout(_0x5e8e('0x9'),0xd2);setTimeout(_0x5e8e('0x12'),0x12c);setTimeout('isWin()',0x12c);}break;case 0x28:_0x21aa04[_0x5e8e('0x10')]();if(moveDown()){setTimeout(_0x5e8e('0x9'),0xd2);setTimeout('isGameover()',0x12c);setTimeout(_0x5e8e('0x18'),0x12c);}break;default:return;}});document['addEventListener'](_0x5e8e('0x1b'),function(_0x492341){startx=_0x492341[_0x5e8e('0x17')][0x0][_0x5e8e('0x3')];starty=_0x492341[_0x5e8e('0x17')][0x0][_0x5e8e('0x2f')];});document['addEventListener'](_0x5e8e('0x32'),function(_0x2a0553){_0x2a0553[_0x5e8e('0x10')]();});document[_0x5e8e('0x24')](_0x5e8e('0x15'),function(_0x302c83){endx=_0x302c83[_0x5e8e('0x2c')][0x0][_0x5e8e('0x3')];endy=_0x302c83[_0x5e8e('0x2c')][0x0]['pageY'];var _0xe95ec2=endx-startx;var _0x182bef=endy-starty;if(Math[_0x5e8e('0x28')](_0xe95ec2)<0.2*documentWidth&&Math[_0x5e8e('0x28')](_0x182bef)<0.2*documentWidth){return;}if(Math[_0x5e8e('0x28')](_0xe95ec2)>=Math[_0x5e8e('0x28')](_0x182bef)){if(_0xe95ec2>0x0){if(moveRight()){setTimeout(_0x5e8e('0x9'),0xd2);setTimeout(_0x5e8e('0x12'),0x12c);setTimeout(_0x5e8e('0x18'),0x12c);}}else{if(moveLeft()){setTimeout(_0x5e8e('0x9'),0xd2);setTimeout('isGameover()',0x12c);setTimeout(_0x5e8e('0x18'),0x12c);}}}else{if(_0x182bef>0x0){if(moveDown()){setTimeout(_0x5e8e('0x9'),0xd2);setTimeout(_0x5e8e('0x12'),0x12c);setTimeout(_0x5e8e('0x18'),0x12c);}}else{if(moveUp()){setTimeout(_0x5e8e('0x9'),0xd2);setTimeout(_0x5e8e('0x12'),0x12c);setTimeout('isWin()',0x12c);}}}});function isGameover(){if(nospace(board)&&nomove(board)){gameover();}}function isWin(){for(var _0x574fba=0x0;_0x574fba<0x4;_0x574fba++){for(var _0x5ced20=0x1;_0x5ced20<0x4;_0x5ced20++){if(board[_0x5ced20][_0x574fba]==0x800){if(winOnce==![]){win();winOnce=!![];}}}}return![];}function win(){$(_0x5e8e('0x1d'))[_0x5e8e('0x19')](_0x5e8e('0x1a')+score);$('.dialog-fail')[_0x5e8e('0xe')]('display',_0x5e8e('0x34'));}function gameover(){$(_0x5e8e('0x1d'))[_0x5e8e('0x19')](_0x5e8e('0x1a')+score);$(_0x5e8e('0x4'))[_0x5e8e('0xe')](_0x5e8e('0x1'),_0x5e8e('0x34'));}function moveUp(){if(!canMoveUp(board)){return![];}for(var _0x2308c1=0x0;_0x2308c1<0x4;_0x2308c1++){for(var _0x2713db=0x1;_0x2713db<0x4;_0x2713db++){if(board[_0x2713db][_0x2308c1]!=0x0){for(var _0x2fdc7f=0x0;_0x2fdc7f<_0x2713db;_0x2fdc7f++){if(board[_0x2fdc7f][_0x2308c1]==0x0&&noUpBlock(_0x2713db,_0x2308c1,_0x2fdc7f,board)){showMoveAnimation(_0x2713db,_0x2308c1,_0x2fdc7f,_0x2308c1);board[_0x2fdc7f][_0x2308c1]=board[_0x2713db][_0x2308c1];board[_0x2713db][_0x2308c1]=0x0;continue;}else if(board[_0x2fdc7f][_0x2308c1]==board[_0x2713db][_0x2308c1]&&noUpBlock(_0x2713db,_0x2308c1,_0x2fdc7f,board)&&!hasConflicted[_0x2fdc7f][_0x2308c1]){showMoveAnimation(_0x2713db,_0x2308c1,_0x2fdc7f,_0x2308c1);board[_0x2fdc7f][_0x2308c1]+=board[_0x2713db][_0x2308c1];board[_0x2713db][_0x2308c1]=0x0;score+=board[_0x2fdc7f][_0x2308c1];setTimeout(_0x5e8e('0x2d'),0x136);hasConflicted[_0x2fdc7f][_0x2308c1]=!![];continue;}}}}}setTimeout(_0x5e8e('0x8'),0xc8);return!![];}function moveDown(){if(!canMoveDown(board)){return![];}for(var _0x20add6=0x0;_0x20add6<0x4;_0x20add6++){for(var _0x498b39=0x2;_0x498b39>=0x0;_0x498b39--){if(board[_0x498b39][_0x20add6]!=0x0){for(var _0x4022bb=0x3;_0x4022bb>_0x498b39;_0x4022bb--){if(board[_0x4022bb][_0x20add6]==0x0&&noDownBlock(_0x498b39,_0x20add6,_0x4022bb,board)){showMoveAnimation(_0x498b39,_0x20add6,_0x4022bb,_0x20add6);board[_0x4022bb][_0x20add6]=board[_0x498b39][_0x20add6];board[_0x498b39][_0x20add6]=0x0;continue;}else if(board[_0x4022bb][_0x20add6]==board[_0x498b39][_0x20add6]&&noDownBlock(_0x498b39,_0x20add6,_0x4022bb,board)&&!hasConflicted[_0x4022bb][_0x20add6]){showMoveAnimation(_0x498b39,_0x20add6,_0x4022bb,_0x20add6);board[_0x4022bb][_0x20add6]+=board[_0x498b39][_0x20add6];board[_0x498b39][_0x20add6]=0x0;score+=board[_0x4022bb][_0x20add6];setTimeout(_0x5e8e('0x2d'),0x136);hasConflicted[_0x4022bb][_0x20add6]=!![];continue;}}}}}setTimeout(_0x5e8e('0x8'),0xc8);return!![];}function moveRight(){if(!canMoveRight(board)){return![];}for(var _0xd5c1a7=0x0;_0xd5c1a7<0x4;_0xd5c1a7++){for(var _0x4bbe07=0x2;_0x4bbe07>=0x0;_0x4bbe07--){if(board[_0xd5c1a7][_0x4bbe07]!=0x0){for(var _0x5b467d=0x3;_0x5b467d>_0x4bbe07;_0x5b467d--){if(board[_0xd5c1a7][_0x5b467d]==0x0&&noRightBlock(_0xd5c1a7,_0x4bbe07,_0x5b467d,board)){showMoveAnimation(_0xd5c1a7,_0x4bbe07,_0xd5c1a7,_0x5b467d);board[_0xd5c1a7][_0x5b467d]=board[_0xd5c1a7][_0x4bbe07];board[_0xd5c1a7][_0x4bbe07]=0x0;continue;}else if(board[_0xd5c1a7][_0x5b467d]==board[_0xd5c1a7][_0x4bbe07]&&noRightBlock(_0xd5c1a7,_0x4bbe07,_0x5b467d,board)&&!hasConflicted[_0xd5c1a7][_0x5b467d]){showMoveAnimation(_0xd5c1a7,_0x4bbe07,_0xd5c1a7,_0x5b467d);board[_0xd5c1a7][_0x5b467d]+=board[_0xd5c1a7][_0x4bbe07];board[_0xd5c1a7][_0x4bbe07]=0x0;score+=board[_0xd5c1a7][_0x5b467d];setTimeout(_0x5e8e('0x2d'),0x136);hasConflicted[_0xd5c1a7][_0x5b467d]=!![];continue;}}}}}setTimeout(_0x5e8e('0x8'),0xc8);return!![];}function moveLeft(){if(!canMoveLeft(board)){return![];}for(var _0x54abb8=0x0;_0x54abb8<0x4;_0x54abb8++){for(var _0x10a29f=0x1;_0x10a29f<0x4;_0x10a29f++){if(board[_0x54abb8][_0x10a29f]!=0x0){for(var _0x4ee501=0x0;_0x4ee501<_0x10a29f;_0x4ee501++){if(board[_0x54abb8][_0x4ee501]==0x0&&noLeftBlock(_0x54abb8,_0x10a29f,_0x4ee501,board)){showMoveAnimation(_0x54abb8,_0x10a29f,_0x54abb8,_0x4ee501);board[_0x54abb8][_0x4ee501]=board[_0x54abb8][_0x10a29f];board[_0x54abb8][_0x10a29f]=0x0;continue;}else if(board[_0x54abb8][_0x4ee501]==board[_0x54abb8][_0x10a29f]&&noLeftBlock(_0x54abb8,_0x10a29f,_0x4ee501,board)&&!hasConflicted[_0x54abb8][_0x4ee501]){showMoveAnimation(_0x54abb8,_0x10a29f,_0x54abb8,_0x4ee501);board[_0x54abb8][_0x4ee501]+=board[_0x54abb8][_0x10a29f];board[_0x54abb8][_0x10a29f]=0x0;score+=board[_0x54abb8][_0x4ee501];setTimeout(_0x5e8e('0x2d'),0x136);hasConflicted[_0x54abb8][_0x4ee501]=!![];continue;}}}}}setTimeout(_0x5e8e('0x8'),0xc8);return!![];}